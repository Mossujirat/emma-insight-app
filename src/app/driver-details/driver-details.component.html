<div class="row">
  <div class="col-md-7 mb-4">
    <div class="card bg-dark text-white p-4 h-100">
      <h5 class="mb-4"><a routerLink="/dashboard/home" class="text-white-50 text-decoration-none me-3"><i class="bi bi-arrow-left"></i> BACK</a> Current trip</h5>

      <div class="list-group list-group-flush bg-dark text-white">
        <div class="list-group-item bg-transparent text-white border-bottom border-secondary d-flex align-items-center mb-2" *ngFor="let tripEvent of tripEvents">
          <i class="bi bi-geo-alt-fill me-3 fs-5 text-success"></i>
          <div>
            <p class="mb-1 fw-bold">{{ tripEvent.distance }} KM <span class="ms-3">{{ tripEvent.time }}</span> <span class="ms-3">{{ tripEvent.duration }}</span></p>
            <small class="text-white-50">{{ tripEvent.event }}</small>
          </div>
        </div>
      </div>

      <h5 class="mt-5 mb-4">Detected Event</h5>
      <div class="chart-placeholder d-flex flex-column gap-2">
        <div class="d-flex align-items-center">
          <span class="badge bg-warning me-2" style="width: 20px; height: 10px;"></span> 3
          <div class="progress flex-grow-1 ms-3" style="height: 15px;">
            <div class="progress-bar bg-warning" role="progressbar" [style.width]="'20%'" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <span class="ms-3">Yawning</span>
        </div>
        <div class="d-flex align-items-center">
          <span class="badge bg-info me-2" style="width: 20px; height: 10px;"></span> 8
          <div class="progress flex-grow-1 ms-3" style="height: 15px;">
            <div class="progress-bar bg-info" role="progressbar" [style.width]="'30%'" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <span class="ms-3">Eye</span>
        </div>
        <div class="d-flex align-items-center">
          <span class="badge bg-danger me-2" style="width: 20px; height: 10px;"></span> 5
          <div class="progress flex-grow-1 ms-3" style="height: 15px;">
            <div class="progress-bar bg-danger" role="progressbar" [style.width]="'25%'" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <span class="ms-3">Micro-sleep</span>
        </div>
        <div class="d-flex align-items-center">
          <span class="badge bg-primary me-2" style="width: 20px; height: 10px;"></span> 10
          <div class="progress flex-grow-1 ms-3" style="height: 15px;">
            <div class="progress-bar bg-primary" role="progressbar" [style.width]="'40%'" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <span class="ms-3">Sleep</span>
        </div>
        <div class="d-flex align-items-center">
          <span class="badge bg-secondary me-2" style="width: 20px; height: 10px;"></span> 13
          <div class="progress flex-grow-1 ms-3" style="height: 15px;">
            <div class="progress-bar bg-secondary" role="progressbar" [style.width]="'50%'" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <span class="ms-3">Distraction</span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-5 mb-4">
    <div class="card bg-dark text-white p-4 h-100 d-flex flex-column">
      <div class="map-preview mb-4" style="min-height: 250px;">
        <div class="text-center">
          <img src="assets/map-preview-placeholder.png" alt="Map Preview Placeholder" class="img-fluid" style="max-width: 90%;">
          <p class="mt-2 text-white-50"><small>Map preview here</small></p>
        </div>
      </div>

      <div class="row text-center mb-4">
        <div class="col">
          <small class="text-white-50">Speeding Detected</small>
          <p class="fs-3 fw-bold text-danger">{{ detectedSpeedingCount }}</p>
        </div>
        <div class="col">
          <small class="text-white-50">Updated</small>
          <p class="fs-6 text-white-50">5 min ago</p>
        </div>
      </div>

      <div class="row text-center mb-4">
        <div class="col">
          <small class="text-white-50">Max Speed</small>
          <p class="fs-3 fw-bold">{{ maxSpeed }}<small class="text-white-50"> Km/h</small></p>
        </div>
        <div class="col">
          <small class="text-white-50">Avg. Speed</small>
          <p class="fs-3 fw-bold">{{ avgSpeed }}<small class="text-white-50"> Km/h</small></p>
        </div>
      </div>

      <hr class="border-secondary my-4">

      <div class="d-flex align-items-center mb-3">
        <img src="assets/driver-placeholder.png" alt="Driver Profile" class="rounded-circle me-3" style="width: 60px; height: 60px;">
        <div>
          <h5 class="mb-0">{{ driverName }}</h5>
          <p class="mb-0 text-danger" *ngIf="driverStatus === 'Critical'">Critical (Sleep)</p>
          <p class="mb-0 text-success" *ngIf="driverStatus === 'Normal'">Normal</p>
        </div>
      </div>
      <p class="mb-1"><small class="text-white-50">Account ID:</small> {{ driverDetails.accountID }}</p>
      <p class="mb-1"><small class="text-white-50">Telephone:</small> {{ driverDetails.telephone }}</p>
      <p class="mb-1"><small class="text-white-50">Vehicles:</small> {{ driverDetails.vehicles }}</p>
      <p class="mb-1"><small class="text-white-50">License Plate No.:</small> {{ driverDetails.licensePlateNo }}</p>

      <div class="d-grid mt-auto">
        <button class="btn btn-secondary btn-sm mt-3"><i class="bi bi-graph-up me-2"></i>Statistics</button>
      </div>
    </div>
  </div>
</div>