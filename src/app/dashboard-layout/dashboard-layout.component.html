<div class="dashboard-wrapper">
    <header class="dashboard-header">
        <nav class="navbar">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <a class="navbar-brand d-flex align-items-center" routerLink="/dashboard">
            <img src="/emma_logo.png" alt="EMMA Insight Logo" height="50" class="me-2">
            </a>

            <div class="d-flex align-items-center">
            <span class="text me-3">{{ loggedInUser?.username }}</span>
            <button class="btn btn-outline me-2">
                <i class="bi bi-bell-fill"></i> </button>
            <button class="btn btn-outline me-2">
                <i class="bi bi-gear-fill"></i> </button>
            <button class="btn btn-dark" (click)="toggleTheme()">
                <i class="bi bi-sun" *ngIf="currentTheme === 'light'"></i>
                <i class="bi bi-moon-fill" *ngIf="currentTheme === 'dark'"></i>
            </button>
            </div>
        </div>
        </nav>
    </header>

    <div class="d-flex flex-grow-1">
        <nav class="sidebar p-3 d-flex flex-column" [ngClass]="{'collapsed': isSidebarCollapsed}">
        <ul class="nav flex-column flex-grow-1"> <li class="nav-item">
            <a class="nav-link text d-flex align-items-center" routerLink="/dashboard/home" routerLinkActive="active-link">
                <i class="bi bi-grid-1x2-fill me-2 fs-5"></i>
                <span *ngIf="!isSidebarCollapsed">Dashboard</span>
            </a>
            </li>
            <li class="nav-item">
            <a class="nav-link text d-flex align-items-center" routerLink="/dashboard/statistics" routerLinkActive="active-link">
                <i class="bi bi-graph-up me-2 fs-5"></i>
                <span *ngIf="!isSidebarCollapsed">Statistics</span>
            </a>
            </li>
        </ul>

        <ul class="nav flex-column mt-auto border-top border-secondary pt-3"> <li class="nav-item">
            <a class="nav-link text d-flex align-items-center" href="#">
                <i class="bi bi-question-circle-fill me-2 fs-5"></i>
                <span *ngIf="!isSidebarCollapsed">Help</span>
            </a>
            </li>
            <li class="nav-item">
            <a class="nav-link text d-flex align-items-center" (click)="logout()">
                <i class="bi bi-box-arrow-right me-2 fs-5"></i>
                <span *ngIf="!isSidebarCollapsed">Logout</span>
            </a>
            </li>
        </ul>
        </nav>

        <main class="dashboard-content flex-grow-1">
        <router-outlet></router-outlet> </main>
    </div>
</div>